#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing"

# Check tsconfig standards
yarn check-types || (
    echo "ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ Failed Type check. ğŸ¤¡ğŸ˜‚âŒğŸ¤¡
        Are you seriously trying to write that? Make the changes required above."
    false;
)

# Check prettier standards
# yarn check-format || (
#     echo "ğŸ¤¢ğŸ¤®ğŸ¤¢ğŸ¤® It's Frickin' RAW - your style looks disgusting. ğŸ¤¢ğŸ¤®ğŸ¤¢ğŸ¤®
#         Prettier Check Failed. Run `yarn format`, add changes and try commit again."
#     false;
# )

# Check ESlint standards
yarn check-lint || (
    echo "ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ Get that weak shtuff outta here. ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤
        ESlint check failed. Run `yarn format`,  add changes and try commit again."
    false;
)


#   If everything passess... try to run a build
echo "ğŸ˜•ğŸ˜•ğŸ˜ğŸ§... Alright lookin' good nerd. Don't be happy yet, trying to build now...ğŸ˜•ğŸ˜•ğŸ˜ğŸ§"
yarn build || (
    echo "âŒğŸ‘·ğŸ”¨âŒ Better call Bob... 'coz your build failed. âŒğŸ‘·ğŸ”¨âŒ
        Next build failed: View the errors above to see why."
    false;
)
